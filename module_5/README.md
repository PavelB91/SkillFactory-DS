## Итоговое задание по Проекту 5. Выбираем авто выгодно
![alt-текст](https://whatcar.vn/media/2018/09/car-lot-940x470.jpg)
### 1. Описание проекта:
1. Проект выполнен на Kaggle.
2. Автор: [Pavel Begunov](https://www.kaggle.com/pavelbegunov).
3. [Ссылка](https://www.kaggle.com/pavelbegunov/pavel-begunov-sf-car-price-prediction) на ноутбук на Kaggle.
4. Достигнутое в соревновании значении метрики MAPE:
   * Наилучшее значение: 12.4732% 
### 2. Цель: 
Построить модель, которая будет прогнозировать стоимость автомобиля по его характеристикам.
#### Задачи:
   1. Собрать свежие данные с сайта [auto.ru](https://auto.ru/)
   2. Провести предварительную очистку данных.
   3. Провести оценку и преобразование данных.
   4. Сформулировать выводы относительно качества данных и тех признаков, которые будут использоваться в дальнейшем построении модели.
   5. Построить и обучить модели. Найти наилучшую модель и ее параметры.
   6. Использовать ансамбли алгоритмов и стакинг.         
### 3. Краткая информация о данных:
Датасет содержит информацию из объявлений по продаже автомобилей на сайте auto.ru.
Первоначальная версия датасета состоит из двадцати шести столбцов, содержащих следующую информацию:
  * body_type: тип корпуса автомобиля;
  * brand: марка автомобиля;
  * customs: таможня;
  * description: описание;
  * drive_unit: привод;
  * engine_displacement: объем двигателя;
  * engine_power: мощность двигателя;
  * fuel_type: тип топлива;
  * hidden: скрытая информация;
  * mileage: пробег автомобиля;
  * model_name: название модели;
  * model_date: дата начала производства модели;
  * name: название в каталоге;
  * number_of_doors: количество дверей;
  * owners: количество владельцев;
  * ownership_time: время владения данной моделью автомобиля;
  * price: цена автомобиля;
  * production_date: дата производства автомобиля;
  * rudder_side: параметр, указывающий на какой стороне автомобиля находится руль;
  * start_date: дата добавления объявления;
  * status: состояние автомобиля;
  * vehicle_сonfiguration: конфигурация автомобиля;
  * vehicle_passport: паспорт транспортного средства;
  * vehicle_transmission: трансмиссия
### 4. Этапы работы над проектом.
1. Был проведен первичный анализ данных. В котором были определены типы данных, количество строк и столбцов, наличие пропусков и дубликатов.
2. Проведен анализ данных по группам признаков.
3. Заполнены пропуски и минимизированы выбросы.
4. Созданы новые признаки на основе имеющихся данных.
5. Отобраны признаки, которые влияют на конечный результат.
6. Данные преобразованы в вид, пригодный для постоения моделей.
7. Построены и обучены различные модели, для лучшей подобраны гиперпараметры.
8. Использованы ансамбли алгоритмов и стакинг.
9. Для оценки качества исследования использована метрика MAPE. 
### 5. Особенности работы:
1. Работу выполнял один.
2. Из-за того, что я нахожусь на территории Беларуси, не смог спарсить свежие данные с сайта. Пробовал использовать прокси-сервера, VPN, но ничего не получилось. На попытки потратил много ценного времени.  
3. Привел данные к единому формату, очистил от пропусков, дубликатов и не информативных признаков.
4. Попробовал различные модели и ансамбли моделей. 
5. Подбирал гиперпараметры для лучшей модели с помощью [GridSearchCV](https://scikit-learn.org/stable/modules/generated/sklearn.model_selection.GridSearchCV.html?highlight=gridsearchcv#sklearn.model_selection.GridSearchCV). 
6. Наилучшего результата достиг во второй версии (**VERSION 1**) ноутбука. Значение метрики **MAPE** на тестовых данных составила **12.4732%**.
7. Интересно, что **feature engineering**, нормализация данных, меры по устранению мультиколлинеарности и выбросов в данных приводили либо к ухудшению данных, либо не вносили вклад в итоговый результат. После многих попыток удалось незначительно улучшить **MAPE** на тренировочных данных, однако на тестовых модель резко ухудшилась до значения равного **17.30353%**.

   
 